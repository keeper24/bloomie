<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bloomie ‚Äì K-Beauty Skincare Guide</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    :root {
      --primary-pink: #F5BFCB;
      --primary-pink-dark: #E8A5B5;
      --secondary-cream: #FFF9F5;
      --accent-green: #A9C9B8;
      --text-dark: #2F2A26;
      --text-medium: #6B625B;
      --text-light: #B6ADA5;
      --border-light: #E5D9CF;
      --white: #FFFFFF;
      --gradient-primary: linear-gradient(135deg, #FAD4DF 0%, #F5BFCB 100%);
      --gradient-soft: linear-gradient(135deg, #FFF3ED 0%, #FFEDE5 100%);
      --shadow-soft: 0 8px 20px rgba(0, 0, 0, 0.06);
      --shadow-medium: 0 4px 12px rgba(0, 0, 0, 0.08);
    }

    body {
      font-family: 'Inter', system-ui, -apple-system, sans-serif;
      background: var(--secondary-cream);
      color: var(--text-dark);
      line-height: 1.6;
      overflow: hidden;
      -webkit-font-smoothing: antialiased;
      margin: 0;
      padding: 0;
      height: 100vh;
      width: 100vw;
    }

    /* App shell (single viewport like a real mobile app) */
    .app-shell {
      position: fixed;
      inset: 0;
      display: flex;
      justify-content: center;
      align-items: stretch;
      padding: 0;
    }

    .app-viewport {
      width: 100%;
      max-width: 390px;
      height: 100vh;
      background: var(--white);
      position: relative;
      overflow: hidden;
      box-shadow: 0 18px 50px rgba(0, 0, 0, 0.10);
    }

    /* Loading Screen */
    .loading-screen {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: var(--gradient-soft);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      transition: opacity 0.5s ease, visibility 0.5s ease;
    }

    .loading-screen.hidden {
      opacity: 0;
      visibility: hidden;
    }

    .loading-logo {
      width: 80px;
      height: 80px;
      background: var(--gradient-primary);
      border-radius: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 24px;
      animation: pulse 2s ease-in-out infinite;
      box-shadow: var(--shadow-medium);
    }

    .loading-logo::before {
      content: 'üå∏';
      font-size: 40px;
      animation: rotate 3s linear infinite;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    @keyframes rotate {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    .loading-text {
      font-size: 18px;
      font-weight: 600;
      color: var(--text-dark);
      margin-bottom: 8px;
    }

    .loading-subtext {
      font-size: 14px;
      color: var(--text-medium);
    }

    .loading-spinner {
      width: 40px;
      height: 40px;
      border: 3px solid var(--border-light);
      border-top-color: var(--primary-pink);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-top: 24px;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* Page Transition Loading */
    .page-loading {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(255, 249, 245, 0.95);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 9998;
      backdrop-filter: blur(4px);
    }

    .page-loading.active {
      display: flex;
    }

    .page-loading-spinner {
      width: 50px;
      height: 50px;
      border: 4px solid var(--border-light);
      border-top-color: var(--primary-pink);
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
    }

    /* Screen container (only one visible at a time, inside app viewport) */
    .screen {
      display: none;
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      background: var(--white);
      overflow: hidden; /* screen handles its own scroll area */
      padding-bottom: 84px; /* space for bottom nav */
      z-index: 1;
      animation: fadeIn 0.25s ease;
    }

    .screen.active {
      display: block;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Phone frame */
    .phone-frame {
      width: 100%;
      height: 100%;
      background: var(--white);
      position: relative;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    /* Top bar */
    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px 20px;
      background: var(--white);
      position: sticky;
      top: 0;
      z-index: 100;
      border-bottom: 1px solid var(--border-light);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.03);
    }

    .top-bar-title {
      font-size: 18px;
      font-weight: 600;
      color: var(--text-dark);
      letter-spacing: -0.3px;
    }

    .back-link {
      font-size: 15px;
      color: var(--text-medium);
      cursor: pointer;
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 4px;
      transition: color 0.2s;
    }

    .back-link:hover {
      color: var(--text-dark);
    }

    /* Content area */
    .content {
      padding: 20px;
      flex: 1;
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
    }

    /* Typography */
    .app-name {
      font-size: 32px;
      font-weight: 700;
      background: var(--gradient-primary);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-align: center;
      margin-bottom: 12px;
      letter-spacing: -0.5px;
    }

    .heading {
      font-size: 24px;
      font-weight: 700;
      color: var(--text-dark);
      margin-bottom: 8px;
      letter-spacing: -0.4px;
    }

    .subheading {
      font-size: 18px;
      font-weight: 600;
      color: var(--text-dark);
      margin-bottom: 4px;
    }

    .body-text {
      font-size: 15px;
      color: var(--text-medium);
      line-height: 1.7;
    }

    .small-text {
      font-size: 13px;
      color: var(--text-light);
    }

    .centered {
      text-align: center;
    }

    /* Spacing */
    .spacer-sm { height: 12px; }
    .spacer-md { height: 24px; }
    .spacer-lg { height: 40px; }
    .spacer-xl { height: 60px; }

    /* Buttons */
    .button {
      width: 100%;
      padding: 16px 24px;
      border: none;
      background: var(--white);
      color: var(--text-dark);
      font-size: 16px;
      font-weight: 600;
      border-radius: 16px;
      cursor: pointer;
      text-align: center;
      transition: all 0.3s ease;
      box-shadow: var(--shadow-soft);
      font-family: 'Inter', sans-serif;
    }

    .button-primary {
      background: var(--gradient-primary);
      color: var(--white);
      box-shadow: 0 4px 16px rgba(245, 191, 203, 0.4);
    }

    .button-primary:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(245, 191, 203, 0.5);
    }

    .button-primary:active:not(:disabled) {
      transform: translateY(0);
    }

    .button-primary:disabled {
      background: var(--border-light);
      color: var(--text-light);
      box-shadow: none;
      cursor: not-allowed;
    }

    .button-secondary {
      background: var(--white);
      color: var(--text-medium);
      border: 2px solid var(--border-light);
    }

    .button-secondary:hover {
      background: var(--secondary-cream);
      border-color: var(--primary-pink);
    }

    .button-small {
      padding: 10px 20px;
      font-size: 14px;
      width: auto;
      display: inline-block;
    }

    .button-option {
      text-align: left;
      margin-bottom: 12px;
      background: var(--white);
      border: 2px solid var(--border-light);
      padding: 18px 20px;
    }

    .button-option:hover {
      border-color: var(--primary-pink);
      background: var(--secondary-cream);
    }

    .button-option.selected {
      background: var(--gradient-primary);
      color: var(--white);
      border-color: var(--primary-pink-dark);
      box-shadow: 0 4px 12px rgba(245, 191, 203, 0.3);
    }

    /* Cards */
    .card {
      background: var(--white);
      border: 1px solid var(--border-light);
      border-radius: 20px;
      padding: 20px;
      margin-bottom: 16px;
      transition: all 0.3s ease;
      box-shadow: var(--shadow-soft);
    }

    .card:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-medium);
    }

    .card-primary {
      background: var(--gradient-primary);
      border: none;
      color: var(--white);
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }

    .card-primary::before {
      content: '‚ú®';
      position: absolute;
      right: 20px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 32px;
      opacity: 0.3;
    }

    .card-primary .card-title,
    .card-primary .card-text {
      color: var(--white);
      position: relative;
      z-index: 1;
    }

    .card-title {
      font-size: 18px;
      font-weight: 600;
      color: var(--text-dark);
      margin-bottom: 6px;
    }

    .card-text {
      font-size: 14px;
      color: var(--text-medium);
      margin-top: 4px;
    }

    .product-card {
      padding: 18px;
      cursor: pointer;
    }

    .card-header-row {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 10px;
    }

    .card-footer-row {
      display: flex;
      justify-content: flex-end;
      margin-top: 14px;
    }

    /* Tags */
    .tag {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 6px 12px;
      background: rgba(169, 201, 184, 0.15);
      border: 1px solid var(--accent-green);
      border-radius: 12px;
      font-size: 11px;
      font-weight: 600;
      color: #507563;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .tag::before {
      content: '‚úì';
      font-weight: bold;
    }

    /* Progress */
    .progress {
      margin-bottom: 28px;
    }

    .progress-label {
      font-size: 13px;
      color: var(--text-medium);
      margin-bottom: 10px;
      font-weight: 500;
    }

    .progress-bar {
      width: 100%;
      height: 8px;
      background: var(--border-light);
      border-radius: 10px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: var(--gradient-primary);
      transition: width 0.5s ease;
      border-radius: 10px;
    }

    /* Lists */
    .bullet-list {
      list-style: none;
      padding-left: 0;
    }

    .bullet-list li {
      padding-left: 24px;
      position: relative;
      margin-bottom: 10px;
      font-size: 15px;
      color: var(--text-medium);
      line-height: 1.6;
    }

    .bullet-list li::before {
      content: 'üå∏';
      position: absolute;
      left: 0;
      font-size: 14px;
    }

    .list-rows {
      list-style: none;
      padding: 0;
    }

    .list-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 14px 0;
      border-bottom: 1px solid var(--border-light);
      font-size: 15px;
      color: var(--text-medium);
      cursor: pointer;
      transition: all 0.2s;
    }

    .list-row:last-child {
      border-bottom: none;
    }

    .list-row:hover {
      background: var(--secondary-cream);
      margin: 0 -20px;
      padding: 14px 20px;
      border-radius: 12px;
    }

    /* Filters */
    .filters-row {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-bottom: 20px;
    }

    .filter-pill {
      padding: 10px 16px;
      background: var(--white);
      border: 2px solid var(--border-light);
      border-radius: 24px;
      font-size: 13px;
      color: var(--text-medium);
      cursor: pointer;
      transition: all 0.2s;
      font-weight: 500;
    }

    .filter-pill:hover {
      background: var(--secondary-cream);
      border-color: var(--primary-pink);
    }

    /* Collapsible */
    .collapsible {
      border: 2px solid var(--border-light);
      border-radius: 16px;
      margin-bottom: 20px;
      overflow: hidden;
      transition: all 0.3s;
    }

    .collapsible.expanded {
      border-color: var(--primary-pink);
      box-shadow: var(--shadow-soft);
    }

    .collapsible-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px 20px;
      cursor: pointer;
      font-size: 15px;
      font-weight: 600;
      color: var(--text-dark);
      background: var(--secondary-cream);
      transition: all 0.2s;
    }

    .collapsible-header:hover {
      background: #FFF3ED;
    }

    .collapsible-body {
      display: none;
      padding: 16px 20px;
      border-top: 1px solid var(--border-light);
      font-size: 14px;
      color: var(--text-medium);
      line-height: 1.7;
      background: var(--white);
    }

    .collapsible-body.expanded {
      display: block;
      animation: slideDown 0.3s ease;
    }

    @keyframes slideDown {
      from {
        opacity: 0;
        max-height: 0;
      }
      to {
        opacity: 1;
        max-height: 500px;
      }
    }

    .chevron {
      font-size: 12px;
      color: var(--text-medium);
      transition: transform 0.3s;
    }

    .collapsible.expanded .chevron {
      transform: rotate(180deg);
    }

    /* Bottom Navigation */
    .bottom-nav {
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
      width: 100%;
      background: var(--white);
      border-top: 1px solid var(--border-light);
      display: flex;
      justify-content: space-around;
      padding: 12px 0;
      z-index: 300;
      box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.05);
    }

    .bottom-nav.is-hidden {
      display: none;
    }

    .nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 6px;
      padding: 8px 20px;
      cursor: pointer;
      flex: 1;
      transition: all 0.2s;
      border-radius: 12px;
      margin: 0 4px;
    }

    .nav-item:hover {
      background: var(--secondary-cream);
    }

    .nav-icon {
      width: 28px;
      height: 28px;
      border-radius: 8px;
      background: var(--border-light);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      transition: all 0.2s;
    }

    .nav-item.active .nav-icon {
      background: var(--gradient-primary);
      color: var(--white);
      box-shadow: 0 4px 12px rgba(245, 191, 203, 0.3);
    }

    .nav-label {
      font-size: 11px;
      color: var(--text-light);
      font-weight: 500;
      transition: color 0.2s;
    }

    .nav-item.active .nav-label {
      color: var(--text-dark);
      font-weight: 600;
    }

    /* Trust message */
    .trust-message {
      text-align: center;
      font-size: 13px;
      color: var(--text-medium);
      padding: 16px;
      background: rgba(169, 201, 184, 0.1);
      border-radius: 16px;
      margin: 20px 0;
      border: 1px solid rgba(169, 201, 184, 0.3);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .trust-message::before {
      content: '‚úì';
      color: var(--accent-green);
      font-weight: bold;
      font-size: 16px;
    }

    /* Avatar */
    .avatar {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: var(--gradient-primary);
      border: 2px solid var(--white);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: var(--shadow-soft);
      transition: transform 0.2s;
    }

    .avatar:hover {
      transform: scale(1.05);
    }

    .avatar::before {
      content: 'üë§';
      font-size: 20px;
    }

    /* Section titles */
    .section-title {
      font-size: 16px;
      font-weight: 600;
      color: var(--text-dark);
      margin-bottom: 14px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .section-title::before {
      content: '‚ú®';
      font-size: 18px;
    }

    /* Modal */
    .modal-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(47, 42, 38, 0.6);
      z-index: 1000;
      align-items: center;
      justify-content: center;
      backdrop-filter: blur(8px);
      animation: fadeIn 0.3s ease;
    }

    .modal-overlay.active {
      display: flex;
    }

    .modal {
      background: var(--white);
      border-radius: 24px;
      padding: 32px 24px;
      max-width: 320px;
      width: 90%;
      margin: 0 auto;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      animation: slideUp 0.3s ease;
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .modal-title {
      font-size: 22px;
      font-weight: 700;
      margin-bottom: 12px;
      color: var(--text-dark);
      text-align: center;
    }

    .modal-text {
      font-size: 15px;
      color: var(--text-medium);
      margin-bottom: 24px;
      line-height: 1.6;
      text-align: center;
    }

    .modal-actions {
      display: flex;
      gap: 12px;
    }

    .modal-actions .button {
      flex: 1;
    }

    /* Login buttons */
    .login-button {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      margin-bottom: 14px;
      padding: 16px 24px;
      border-radius: 16px;
      font-weight: 600;
    }

    .login-icon {
      width: 24px;
      height: 24px;
      border-radius: 6px;
      background: var(--white);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
    }

    /* Greeting */
    .greeting {
      margin-bottom: 28px;
    }

    .greeting .heading {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    /* Decorative elements */
    .decorative-blob {
      position: absolute;
      border-radius: 50%;
      opacity: 0.1;
      pointer-events: none;
    }

    .blob-1 {
      width: 200px;
      height: 200px;
      background: var(--primary-pink);
      top: -100px;
      right: -100px;
    }

    .blob-2 {
      width: 150px;
      height: 150px;
      background: var(--accent-green);
      bottom: -75px;
      left: -75px;
    }

    /* Empty state */
    .empty-state {
      text-align: center;
      padding: 40px 20px;
      color: var(--text-medium);
    }

    .empty-state-icon {
      font-size: 48px;
      margin-bottom: 16px;
    }

    /* Success animation */
    @keyframes checkmark {
      0% { transform: scale(0); }
      50% { transform: scale(1.2); }
      100% { transform: scale(1); }
    }

    .saved-indicator {
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .saved-indicator::before {
      content: '‚úì';
      color: var(--accent-green);
      font-weight: bold;
      font-size: 18px;
      animation: checkmark 0.4s ease;
    }
  </style>
</head>
<body>
  <!-- Initial Loading Screen -->
  <div id="initialLoading" class="loading-screen">
    <div class="loading-logo"></div>
    <div class="loading-text">Bloomie</div>
    <div class="loading-subtext">Preparing your skincare journey...</div>
    <div class="loading-spinner"></div>
  </div>

  <!-- Page Transition Loading -->
  <div id="pageLoading" class="page-loading">
    <div class="page-loading-spinner"></div>
  </div>

  <div class="app-shell">
    <div class="app-viewport">
      <!-- Screen 1: Login -->
      <div id="login" class="screen active">
        <div class="phone-frame">
      <div class="content" style="padding-top: 80px; position: relative;">
        <div class="decorative-blob blob-1"></div>
        <div class="centered">
          <div class="app-name">Bloomie</div>
          <div class="body-text centered" style="margin-top: 16px; margin-bottom: 60px; max-width: 280px; margin-left: auto; margin-right: auto;">
            Understand your skin and choose the right Korean skincare products with confidence.
          </div>
        </div>

        <div>
          <button class="button button-primary login-button" onclick="navigateTo('home')">
            <span class="login-icon">G</span>
            <span>Continue with Google</span>
          </button>
          <button class="button button-primary login-button" onclick="navigateTo('home')">
            <span class="login-icon">üçé</span>
            <span>Continue with Apple</span>
          </button>
        </div>

        <div class="spacer-xl"></div>

        <p class="small-text centered" style="line-height: 1.6;">
          By continuing, you agree to our
          <span class="link" onclick="navigateTo('settings')" style="color: var(--primary-pink); text-decoration: underline; cursor: pointer;">Privacy Policy</span>
          and
          <span class="link" onclick="navigateTo('settings')" style="color: var(--primary-pink); text-decoration: underline; cursor: pointer;">Terms</span>.
        </p>
        </div>
      </div>

      <!-- Screen 2: Home -->
      <div id="home" class="screen">
        <div class="phone-frame">
      <div class="top-bar">
        <div class="top-bar-title">Bloomie</div>
        <div class="avatar" onclick="navigateTo('dashboard')"></div>
      </div>
      <div class="content">
        <div class="greeting">
          <div class="heading">Hi, Hana üëã</div>
          <div class="body-text" style="margin-top: 6px;">
            Let's find what really works for your skin today.
          </div>
        </div>

        <div class="spacer-md"></div>

        <!-- Primary CTA -->
        <div class="card card-primary" onclick="navigateTo('diagnostic-question')" style="cursor: pointer;">
          <div class="card-title">Start Skin Diagnostic</div>
          <div class="card-text" style="opacity: 0.95;">7 gentle questions ‚Ä¢ about 2 minutes</div>
        </div>

        <div class="spacer-md"></div>

        <!-- Secondary actions -->
        <div class="card" onclick="navigateTo('recommendations')" style="cursor: pointer;">
          <div class="card-title">View Recommendations</div>
          <div class="card-text">Products matched to your current skin profile</div>
        </div>

        <div class="spacer-sm"></div>

        <div class="card" onclick="navigateTo('catalog')" style="cursor: pointer;">
          <div class="card-title">Browse Verified Products</div>
          <div class="card-text">Explore all verified skincare items</div>
        </div>

        <div class="spacer-md"></div>

        <div class="trust-message">
          All products verified by Bloomie
        </div>
        </div>
      </div>

      <!-- Screen 3: Diagnostic Question -->
      <div id="diagnostic-question" class="screen">
        <div class="phone-frame">
      <div class="top-bar">
        <div class="back-link" onclick="navigateTo('home')">‚Üê Back</div>
        <div class="top-bar-title">Skin Diagnostic</div>
        <div style="width: 60px;"></div>
      </div>
      <div class="content">
        <div class="progress">
          <div class="progress-label">Step 1 of 7</div>
          <div class="progress-bar">
            <div class="progress-fill" style="width: 14%"></div>
          </div>
        </div>

        <div class="spacer-md"></div>

        <div class="heading">How does your skin usually feel at the end of the day?</div>

        <div class="spacer-md"></div>

        <div>
          <button class="button button-option" onclick="selectOption(this)">Oily</button>
          <button class="button button-option" onclick="selectOption(this)">Dry</button>
          <button class="button button-option" onclick="selectOption(this)">Combination</button>
          <button class="button button-option" onclick="selectOption(this)">Sensitive</button>
        </div>

        <div class="spacer-xl"></div>

        <button class="button button-primary" id="nextBtn" disabled onclick="navigateTo('diagnostic-result')">
          Next
        </button>
        <p class="small-text" style="margin-top: 12px; text-align: center;">
          You can change this later
        </p>
        </div>
      </div>

      <!-- Screen 4: Diagnostic Result -->
      <div id="diagnostic-result" class="screen">
        <div class="phone-frame">
      <div class="top-bar">
        <div class="back-link" onclick="navigateTo('home')">‚Üê Back</div>
        <div class="top-bar-title">Your Skin Result</div>
        <div style="width: 60px;"></div>
      </div>
      <div class="content">
        <div class="spacer-md"></div>

        <div style="text-align: center; margin-bottom: 24px;">
          <div style="font-size: 48px; margin-bottom: 12px;">üå∏</div>
          <div class="heading">Combination Skin</div>
          <div class="body-text" style="margin-top: 6px;">
            Here's what this means for you.
          </div>
        </div>

        <div class="spacer-md"></div>

        <div class="card">
          <div class="section-title">Top Concerns (up to 2)</div>
          <ul class="bullet-list">
            <li>Oiliness in T-zone</li>
            <li>Occasional dry patches</li>
          </ul>
        </div>

        <div class="spacer-md"></div>

        <div class="card" style="background: var(--secondary-cream);">
          <div class="section-title">Explanation</div>
          <p class="body-text">
            Combination skin means you have both oily and dry areas. Your T-zone (forehead, nose, chin) tends to be oilier, while your cheeks may feel dry or tight. Focus on balancing both areas with gentle, non-stripping products.
          </p>
        </div>

        <div class="spacer-md"></div>

        <button class="button button-primary" onclick="navigateTo('recommendations')">
          View My Recommendations
        </button>

        <div class="spacer-sm"></div>

        <button class="button button-secondary" onclick="navigateTo('diagnostic-question')">
          Retake Diagnostic
        </button>
        </div>
      </div>

      <!-- Screen 5: Recommendations -->
      <div id="recommendations" class="screen">
        <div class="phone-frame">
      <div class="top-bar">
        <div class="back-link" onclick="navigateTo('home')">‚Üê Back</div>
        <div class="top-bar-title">Recommendations</div>
        <div style="width: 60px;"></div>
      </div>
      <div class="content">
        <div class="body-text" style="margin-bottom: 20px; font-weight: 500;">
          Based on your Combination Skin and key concerns.
        </div>

        <div class="trust-message">
          All products verified by Bloomie
        </div>

        <div class="spacer-md"></div>

        <div class="card product-card" onclick="navigateTo('product-detail')" style="cursor: pointer;">
          <div class="card-header-row">
            <div class="card-title">Gentle Foaming Cleanser</div>
            <div class="tag">Verified</div>
          </div>
          <div class="card-text">Cleanser ‚Ä¢ Step 1</div>
          <div class="card-footer-row">
            <button class="button button-small button-secondary" onclick="event.stopPropagation(); navigateTo('product-detail')">View Details</button>
          </div>
        </div>

        <div class="card product-card" onclick="navigateTo('product-detail')" style="cursor: pointer;">
          <div class="card-header-row">
            <div class="card-title">Hydrating Toner</div>
            <div class="tag">Verified</div>
          </div>
          <div class="card-text">Toner ‚Ä¢ Step 2</div>
          <div class="card-footer-row">
            <button class="button button-small button-secondary" onclick="event.stopPropagation(); navigateTo('product-detail')">View Details</button>
          </div>
        </div>

        <div class="card product-card" onclick="navigateTo('product-detail')" style="cursor: pointer;">
          <div class="card-header-row">
            <div class="card-title">Lightweight Moisturizer</div>
            <div class="tag">Verified</div>
          </div>
          <div class="card-text">Moisturizer ‚Ä¢ Step 3</div>
          <div class="card-footer-row">
            <button class="button button-small button-secondary" onclick="event.stopPropagation(); navigateTo('product-detail')">View Details</button>
          </div>
        </div>
        </div>
      </div>

      <!-- Screen 6: Product Detail -->
      <div id="product-detail" class="screen">
        <div class="phone-frame">
      <div class="top-bar">
        <div class="back-link" onclick="navigateTo('recommendations')">‚Üê Back</div>
        <div class="top-bar-title">Product Details</div>
        <div style="width: 60px;"></div>
      </div>
      <div class="content">
        <div class="spacer-md"></div>

        <div style="text-align: center; margin-bottom: 24px;">
          <div style="font-size: 64px; margin-bottom: 16px;">üß¥</div>
          <div class="heading">Gentle Foaming Cleanser</div>
          <div class="body-text" style="margin-top: 6px;">
            Cleanser ‚Ä¢ Step 1
          </div>
          <div class="tag" style="margin-top: 12px;">Verified</div>
        </div>

        <div class="spacer-md"></div>

        <div class="card">
          <div class="section-title">Description</div>
          <p class="body-text">
            A gentle, low-pH foaming cleanser that removes impurities without stripping your skin's natural moisture barrier. Perfect for combination skin types.
          </p>
        </div>

        <div class="spacer-md"></div>

        <div class="collapsible" id="ingredientsCollapsible">
          <div class="collapsible-header" onclick="toggleCollapsible('ingredientsCollapsible')">
            <span>Ingredients</span>
            <span class="chevron">‚ñº</span>
          </div>
          <div class="collapsible-body">
            <p class="body-text" style="margin-bottom: 12px;"><strong>Key ingredients:</strong></p>
            <ul class="bullet-list">
              <li>Centella Asiatica Extract</li>
              <li>Hyaluronic Acid</li>
              <li>Ceramides</li>
              <li>Green Tea Extract</li>
            </ul>
            <p class="body-text" style="margin-top: 12px;">
              Fragrance-free, alcohol-free, suitable for sensitive skin.
            </p>
          </div>
        </div>

        <div class="spacer-md"></div>

        <div class="card" style="background: var(--secondary-cream);">
          <div class="section-title">Why this works for you</div>
          <p class="body-text">
            This cleanser is ideal for combination skin because it effectively removes excess oil from your T-zone without over-drying your cheeks. The low pH helps maintain your skin's natural barrier, and the gentle formula won't cause irritation or tightness.
          </p>
        </div>

        <div class="spacer-xl"></div>

        <button class="button button-primary" id="saveFavoriteBtn" onclick="saveFavorite()">
          Save to Favorites
        </button>
        </div>
      </div>

      <!-- Screen 7: Catalog -->
      <div id="catalog" class="screen">
        <div class="phone-frame">
      <div class="top-bar">
        <div class="top-bar-title">Catalog</div>
      </div>
      <div class="content">
        <div class="spacer-md"></div>

        <div class="filters-row">
          <div class="filter-pill">Skin Type: Any</div>
          <div class="filter-pill">Concern: Any</div>
          <div class="filter-pill">Category: Any</div>
        </div>

        <div class="spacer-md"></div>

        <div class="trust-message">
          All products verified by Bloomie
        </div>

        <div class="spacer-md"></div>

        <div class="card product-card" onclick="navigateTo('product-detail')" style="cursor: pointer;">
          <div class="card-header-row">
            <div class="card-title">Gentle Foaming Cleanser</div>
            <div class="tag">Verified</div>
          </div>
          <div class="card-text">Cleanser</div>
          <div class="card-footer-row">
            <button class="button button-small button-secondary" onclick="event.stopPropagation(); navigateTo('product-detail')">View</button>
          </div>
        </div>

        <div class="card product-card" onclick="navigateTo('product-detail')" style="cursor: pointer;">
          <div class="card-header-row">
            <div class="card-title">Hydrating Toner</div>
            <div class="tag">Verified</div>
          </div>
          <div class="card-text">Toner</div>
          <div class="card-footer-row">
            <button class="button button-small button-secondary" onclick="event.stopPropagation(); navigateTo('product-detail')">View</button>
          </div>
        </div>

        <div class="card product-card" onclick="navigateTo('product-detail')" style="cursor: pointer;">
          <div class="card-header-row">
            <div class="card-title">Lightweight Moisturizer</div>
            <div class="tag">Verified</div>
          </div>
          <div class="card-text">Moisturizer</div>
          <div class="card-footer-row">
            <button class="button button-small button-secondary" onclick="event.stopPropagation(); navigateTo('product-detail')">View</button>
          </div>
        </div>

        <div class="card product-card" onclick="navigateTo('product-detail')" style="cursor: pointer;">
          <div class="card-header-row">
            <div class="card-title">Sunscreen SPF 50+</div>
            <div class="tag">Verified</div>
          </div>
          <div class="card-text">Sunscreen</div>
          <div class="card-footer-row">
            <button class="button button-small button-secondary" onclick="event.stopPropagation(); navigateTo('product-detail')">View</button>
          </div>
        </div>
        </div>
      </div>

      <!-- Screen 8: Dashboard -->
      <div id="dashboard" class="screen">
        <div class="phone-frame">
      <div class="top-bar">
        <div class="top-bar-title">Dashboard</div>
        <div class="avatar" onclick="navigateTo('settings')" style="cursor: pointer;"></div>
      </div>
      <div class="content">
        <div class="spacer-md"></div>

        <div class="card">
          <div class="section-title">My Skin Profile</div>
          <p class="body-text" style="margin-bottom: 12px;">
            <strong>Skin Type:</strong> Combination<br>
            <strong>Top Concerns:</strong> Oiliness in T-zone, Occasional dry patches
          </p>
          <span class="link" onclick="navigateTo('diagnostic-result')" style="color: var(--primary-pink); text-decoration: underline; cursor: pointer; font-weight: 500;">View full result</span>
        </div>

        <div class="spacer-md"></div>

        <div class="card">
          <div class="section-title">Favorite Products</div>
          <ul class="list-rows">
            <li class="list-row" onclick="navigateTo('product-detail')">
              <span>Gentle Foaming Cleanser</span>
              <span>‚ñ∂</span>
            </li>
            <li class="list-row" onclick="navigateTo('product-detail')">
              <span>Hydrating Toner</span>
              <span>‚ñ∂</span>
            </li>
          </ul>
        </div>

        <div class="spacer-md"></div>

        <button class="button button-primary" onclick="navigateTo('diagnostic-question')">
          Retake Diagnostic
        </button>

        <div class="spacer-sm"></div>

        <button class="button button-secondary" onclick="navigateTo('settings')">
          Settings
        </button>
        </div>
      </div>

      <!-- Screen 9: Settings -->
      <div id="settings" class="screen">
        <div class="phone-frame">
      <div class="top-bar">
        <div class="back-link" onclick="navigateTo('dashboard')">‚Üê Back</div>
        <div class="top-bar-title">Settings</div>
        <div style="width: 60px;"></div>
      </div>
      <div class="content">
        <div class="spacer-md"></div>

        <div class="section-title">Consent & Privacy</div>
        <ul class="list-rows">
          <li class="list-row">
            <span>Manage consent</span>
            <span>‚ñ∂</span>
          </li>
          <li class="list-row">
            <span>Privacy Policy</span>
            <span>‚ñ∂</span>
          </li>
        </ul>

        <div class="spacer-lg"></div>

        <div class="section-title">Account</div>
        <div class="spacer-sm"></div>
        <button class="button button-secondary" onclick="alert('Delete account confirmation would appear here')">
          Delete account
        </button>
        <div class="spacer-sm"></div>
        <button class="button button-primary" onclick="navigateTo('login')">
          Logout
        </button>
        </div>
      </div>

      <!-- Global Bottom Nav (single instance) -->
      <nav id="globalBottomNav" class="bottom-nav is-hidden" aria-label="Bottom Navigation">
        <div class="nav-item" data-tab="home" onclick="navigateTo('home')">
          <div class="nav-icon">üè†</div>
          <div class="nav-label">Home</div>
        </div>
        <div class="nav-item" data-tab="catalog" onclick="navigateTo('catalog')">
          <div class="nav-icon">üì¶</div>
          <div class="nav-label">Catalog</div>
        </div>
        <div class="nav-item" data-tab="dashboard" onclick="navigateTo('dashboard')">
          <div class="nav-icon">üë§</div>
          <div class="nav-label">Dashboard</div>
        </div>
      </nav>
    </div>
  </div>

  <script>
    // Show initial loading
    window.addEventListener('load', function() {
      setTimeout(function() {
        document.getElementById('initialLoading').classList.add('hidden');
      }, 1500);
    });

    // Navigation with page loading
    function navigateTo(screenId) {
      // Show page loading
      const pageLoading = document.getElementById('pageLoading');
      pageLoading.classList.add('active');

      setTimeout(function() {
        // Hide all screens
        document.querySelectorAll('.screen').forEach(screen => {
          screen.classList.remove('active');
          // Reset scroll position for each screen
          screen.scrollTop = 0;
        });
        
        // Show target screen
        const targetScreen = document.getElementById(screenId);
        if (targetScreen) {
          targetScreen.classList.add('active');
          // Ensure scroll is at top
          targetScreen.scrollTop = 0;
        }
        
        // Update bottom nav active state
        updateBottomNav(screenId);
        
        // Hide page loading
        pageLoading.classList.remove('active');
      }, 400);
    }

    function updateBottomNav(screenId) {
      const nav = document.getElementById('globalBottomNav');
      if (!nav) return;

      // Hide nav on login (pre-auth)
      const shouldShow = screenId !== 'login';
      nav.classList.toggle('is-hidden', !shouldShow);

      // Active state only for tab screens
      const tabScreens = new Set(['home', 'catalog', 'dashboard']);
      nav.querySelectorAll('.nav-item').forEach((item) => {
        const tab = item.getAttribute('data-tab');
        item.classList.toggle('active', tabScreens.has(screenId) && tab === screenId);
      });
    }

    // Diagnostic option selection
    function selectOption(button) {
      document.querySelectorAll('.button-option').forEach(btn => {
        btn.classList.remove('selected');
      });
      
      button.classList.add('selected');
      
      const nextBtn = document.getElementById('nextBtn');
      if (nextBtn) {
        nextBtn.disabled = false;
      }
    }

    // Collapsible toggle
    function toggleCollapsible(id) {
      const collapsible = document.getElementById(id);
      const body = collapsible.querySelector('.collapsible-body');
      
      collapsible.classList.toggle('expanded');
      body.classList.toggle('expanded');
    }

    // Save favorite
    function saveFavorite() {
      const btn = document.getElementById('saveFavoriteBtn');
      btn.innerHTML = '<span class="saved-indicator">Saved to Favorites</span>';
      btn.disabled = true;
      btn.classList.add('button-secondary');
      btn.classList.remove('button-primary');
      
      // Show success feedback
      setTimeout(function() {
        btn.style.background = 'rgba(169, 201, 184, 0.2)';
        btn.style.borderColor = 'var(--accent-green)';
      }, 100);
    }

    // Consent modal (simplified - can be enhanced)
    function showConsentModal() {
      // Modal logic can be added here if needed
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', function() {
      updateBottomNav('login');
    });
  </script>
</body>
</html>
